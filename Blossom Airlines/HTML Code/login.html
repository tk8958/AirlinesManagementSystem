qew<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Page</title>
    <link rel="stylesheet" href="/CSS Code/login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.cdnfonts.com/css//poppins" rel="stylesheet">


</head>
<body>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    
   
<div class="login-container">
        <div class="login-box">
            <div class="cover_box">
                <div class="form-box login">
                    <h2>Login</h2>
                    <form  id="loginForm" action="#">
                        <div class="input-box">
                            <span class="icon">
                                <ion-icon name="person-outline"></ion-icon></span>
                            <input id="username" type="text" required>
                            <label>Username</label>
                        </div>
                        
                        <div class="input-box"> 
                            <span class="icon">
                                <ion-icon name="mail-outline"></ion-icon></span>
                            <input   id="email" type="email" required>
                            <label>Email</label>
                        </div>
                        <div class="input-box">
                            <span class="icon">
                                <ion-icon name="lock-closed-outline"></ion-icon></span>
                            <input  id="password" type="password" required>
                            <label>Password</label>
                        </div>
                        <div class="remember-forgot">
                            <label><input type="checkbox">Remember me</label>
                            <a href="#">Forgot Password</a>
                        </div>
                        <button type="submit" class="btn">Login</button>
                        <div class="login-register">
                            <p>Don't have an account? <a href="register.html" class="register-link">Register</a></p>
                        </div>
                    </form>
                </div> 
            </div> 
        </div> 
    </div> 

   
    <script>

document.addEventListener("DOMContentLoaded", () => {
        document.getElementById("loginForm").addEventListener("submit", async function(e) {
          e.preventDefault();
          
          const username = document.getElementById("username").value.trim()
          const email = document.getElementById("email").value.trim();
          const password = document.getElementById("password").value;



           // Save username to localStorage
      localStorage.setItem("username", username);

try {
  const response = await fetch("http://localhost:8080/api/auth/login", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({ username, email, password })
  });

  if (response.ok) {
    alert("Login successful!");
    window.location.href = "/HTML Code/index.html";  // Aapka landing page
  } else {
    const data = await response.json();
    alert("Login failed: " + (data.message || "Invalid credentials"));
  }
} catch (err) {
  console.error("Login error:", err);
  alert("Something went wrong during login.");
}
        
    
          try {
            const response = await fetch("http://localhost:8080/api/auth/login", {
              method: "POST",
              headers: {
                "Content-Type": "application/json"
              },
              body: JSON.stringify({  username, email, password })
            });
    
            if (response.ok) {
              alert("Login successful!");
              window.location.href = "/HTML Code/index.html";  // आपकी landing page
            } else {
              const data = await response.json();
              alert("Login failed: " + (data.message || "Invalid credentials"));
            }
          } catch (err) {
            console.error("Login error:", err);
            alert("Something went wrong during login.");
          }
        });
    });


    </script>


</body>

<script src="/JS Code/script.js"> </script>
</html>